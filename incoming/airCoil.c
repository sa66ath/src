#include <stdio.h>
#include <math.h>

double airCoil(double N, double R, double l);
double lagurange(double x, int num, double *xylist);

double Nagaoka[76][2] = {
	{ 0.1, 0.9588 },
	{ 0.2, 0.9201 },
	{ 0.3, 0.8838 },
	{ 0.4, 0.8499 },
	{ 0.5, 0.8181 },
	{ 0.6, 0.7885 },
	{ 0.7, 0.7609 },
	{ 0.8, 0.7351 },
	{ 0.9, 0.7110 },
	{ 1.0, 0.6884 },
	{ 1.1, 0.6674 },
	{ 1.2, 0.6475 },
	{ 1.3, 0.6290 },
	{ 1.4, 0.6115 },
	{ 1.5, 0.5950 },
	{ 1.6, 0.5795 },
	{ 1.7, 0.5649 },
	{ 1.8, 0.5511 },
	{ 1.9, 0.5379 },
	{ 2.0, 0.5255 },
	{ 2.1, 0.5137 },
	{ 2.2, 0.5025 },
	{ 2.3, 0.4918 },
	{ 2.4, 0.4816 },
	{ 2.5, 0.4719 },
	{ 2.6, 0.4626 },
	{ 2.7, 0.4537 },
	{ 2.8, 0.4452 },
	{ 2.9, 0.4370 },
	{ 3.0, 0.4292 },
	{ 3.2, 0.4145 },
	{ 3.4, 0.4008 },
	{ 3.6, 0.3882 },
	{ 3.8, 0.3764 },
	{ 4.0, 0.3654 },
	{ 4.2, 0.3551 },
	{ 4.4, 0.3455 },
	{ 4.6, 0.3364 },
	{ 4.8, 0.3279 },
	{ 5.0, 0.3198 },
	{ 5.2, 0.3122 },
	{ 5.4, 0.3050 },
	{ 5.6, 0.2981 },
	{ 5.8, 0.2916 },
	{ 6.0, 0.2854 },
	{ 6.2, 0.2795 },
	{ 6.4, 0.2739 },
	{ 6.6, 0.2685 },
	{ 6.8, 0.2633 },
	{ 7.0, 0.2584 },
	{ 7.2, 0.2537 },
	{ 7.4, 0.2491 },
	{ 7.6, 0.2448 },
	{ 7.8, 0.2406 },
	{ 8.0, 0.2366 },
	{ 8.5, 0.2272 },
	{ 9.0, 0.2185 },
	{ 9.5, 0.2106 },
	{ 10.0, 0.2033 },
	{ 11.0, 0.1903 },
	{ 12.0, 0.1790 },
	{ 14.0, 0.1605 },
	{ 16.0, 0.1457 },
	{ 18.0, 0.1336 },
	{ 20.0, 0.1236 },
	{ 25.0, 0.1048 },
	{ 30.0, 0.0910 },
	{ 35.0, 0.0808 },
	{ 40.0, 0.0728 },
	{ 45.0, 0.0664 },
	{ 50.0, 0.0611 },
	{ 60.0, 0.0528 },
	{ 70.0, 0.0467 },
	{ 80.0, 0.0419 },
	{ 90.0, 0.0381 },
	{ 100.0, 0.0350 }
};


main()
{
	double	n, r, l;
	printf("turn number = ");	scanf("%lf", &n);
	printf("Radius(cm) = ");	scanf("%lf", &r);
	printf("length(cm) = ");	scanf("%lf", &l);

	printf("\nInductance(uH) = %lf\n", airCoil(n, r, l));
	return 0;
}

double K(double R, double l)
{
	return lagurange(2.0*R/l, 76, &Nagaoka[0][0]);
}

double airCoil(double N, double R, double l)
{
	double c = 0.03948;

	return c * R*R*N*N/l * K(R, l);
}

double lagurange(double x, int num, double *xylist)
{
	int	k, j;
	double	sum = 0.0;
	double	lk;

	for(k = 0; k < num; k++) { 
		lk = 1.0;
		for(j = 0; j < num; j++) {
				if(k != j) {
					lk *= (x - *(xylist+2*j))/(*(xylist+2*k) - *(xylist+2*j));
				}
		}
		sum += *(xylist+2*k+1)*lk;  
	}
	return sum;
}


